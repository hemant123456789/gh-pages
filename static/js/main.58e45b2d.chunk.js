(this["webpackJsonpcrud-frontend"]=this["webpackJsonpcrud-frontend"]||[]).push([[0],{118:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n.n(c),a=n(22),r=n.n(a),d=n(10),o=(n(63),n(9)),u=n.n(o),i=n(54),j=n.n(i),l=n(55),b=n.n(l),h=n(56),O=n.n(h),p=n(11),x=n(57),f=n(52),v=n.n(f),m=n(24),g=n.n(m),C=n(1),N=g()("http://localhost:5000/"),U=function(e){var t=e.setPopup,n=e.user,s=e.setUsers,a=e.setCardUser,r=Object(c.useState)({name:"",dateAdded:"",desc:"",phone:""}),o=Object(d.a)(r,2),i=o[0],j=o[1];Object(c.useEffect)((function(){n&&j(n)}),[]);var l=new Date,b="".concat(l.getDate()," ").concat(l.toLocaleString("default",{month:"short"}),", ").concat(l.getFullYear());return Object(C.jsx)("div",{className:"pop-up",children:Object(C.jsxs)("div",{className:"input-box",children:[Object(C.jsx)(v.a,{onClick:function(){return t(!1)},className:"cross-btn"}),Object(C.jsx)("h3",{children:"Enter user details:"}),Object(C.jsx)("input",{type:"text",value:i.name,onChange:function(e){return j((function(t){return Object(p.a)(Object(p.a)({},t),{},{name:e.target.value})}))}}),Object(C.jsx)("input",{type:"text",value:i.desc,onChange:function(e){return j((function(t){return Object(p.a)(Object(p.a)({},t),{},{desc:e.target.value})}))}}),Object(C.jsx)("input",{type:"number",value:i.phone,onChange:function(e){return j((function(t){return Object(p.a)(Object(p.a)({},t),{},{phone:e.target.value})}))}}),n?Object(C.jsx)("button",{onClick:function(){var e={name:i.name,dateAdded:i.dateAdded,desc:i.desc,phone:i.phone,_id:i._id};u.a.put("http://localhost:5000/users/update",e),N.once("user-updated",(function(e){a(e)})),t(!1)},children:"Update User"}):Object(C.jsx)("button",{onClick:function(){var e={name:i.name,dateAdded:b,desc:i.desc,phone:i.phone};u.a.post("http://localhost:5000/users/create",e),N.once("user-added",(function(e){console.log(e),s((function(t){return[].concat(Object(x.a)(t),[e])}))})),t(!1)},children:"Add User"})]})})},k=g()("http://localhost:5000/"),y=function(e){var t=e.type,n=e.user,s=e.setUsers,a=e.allusers,r=Object(c.useState)(!1),o=Object(d.a)(r,2),i=o[0],l=o[1],h=Object(c.useState)(n),p=Object(d.a)(h,2),x=p[0],f=p[1];return Object(C.jsxs)("div",{children:[i&&Object(C.jsx)(U,{setPopup:l,user:x,setUsers:s,setCardUser:f}),"card"===t?Object(C.jsxs)("div",{className:"cards",children:[Object(C.jsx)("div",{className:"display",children:Object(C.jsxs)("div",{className:"content",children:[Object(C.jsx)("strong",{children:x.name}),Object(C.jsxs)("p",{children:["Added on: ",x.dateAdded]}),Object(C.jsx)("p",{className:"about",children:x.desc}),Object(C.jsx)("p",{className:"phone",children:x.phone})]})}),Object(C.jsxs)("div",{className:"btn-container",children:[Object(C.jsx)("div",{onClick:function(){return l(!0)},children:Object(C.jsx)(j.a,{})}),Object(C.jsx)("div",{onClick:function(){return e=n._id,u.a.delete("http://localhost:5000/users/delete/".concat(e)),void k.on("user-deleted",(function(e){var t=a.filter((function(t){return t._id!==e}));s(t),console.log(t),console.log(e)}));var e},children:Object(C.jsx)(b.a,{})})]})]}):Object(C.jsx)("div",{className:"addcards",onClick:function(){return l(!0)},children:Object(C.jsx)(O.a,{})})]})},A=function(){var e=Object(c.useState)(),t=Object(d.a)(e,2),n=t[0],s=t[1];return Object(c.useEffect)((function(){u.a.get("https://server-112.herokuapp.com/users/read").then((function(e){s(e.data)}))}),[]),console.log(n),Object(C.jsx)("div",{children:Object(C.jsxs)("div",{className:"container",children:[n&&n.map((function(e){return Object(C.jsx)(y,{type:"card",user:e,allusers:n,setUsers:s},e._id)})),Object(C.jsx)(y,{type:"add",setUsers:s})]})})},S=function(){return Object(C.jsx)("div",{children:Object(C.jsx)(A,{})})};r.a.render(Object(C.jsx)(s.a.StrictMode,{children:Object(C.jsx)(S,{})}),document.getElementById("root"))},63:function(e,t,n){}},[[118,1,2]]]);
//# sourceMappingURL=main.58e45b2d.chunk.js.map